import{r as g,j as e,aA as h,bA as m,bB as v,aq as n,bu as S,bC as b,bw as C,bx as N,by as P}from"./index-CpieBdCD.js";import{u as f}from"./useExportCsv-DKMZF7j0.js";const y=({data:r})=>{const[t,d]=g.useState(r.map(a=>a.pro===!0?"Yes":"No")),[s,c]=g.useState(r.map(a=>a.flu===!0?"Yes":"No")),[x,j]=g.useState("");g.useState(!1);const o=(a,l)=>{const i=[...t];i[l]=a.target.value,d(i)},u=(a,l)=>{const i=[...s];i[l]=a.target.value,c(i)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"table",children:e.jsxs("table",{children:[e.jsx("thead",{className:"shadow fixed-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"DOB"}),e.jsx("th",{children:"MH#"}),e.jsx("th",{children:"SL HX"}),e.jsx("th",{children:"SL D"}),e.jsx("th",{children:"PRO"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"FLU"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"FILLINGS"}),e.jsx("th",{children:"Notes"}),e.jsx("th",{children:"Year"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:r.length>0?r.map((a,l)=>e.jsxs("tr",{className:"shadow",children:[e.jsx("td",{children:a.name}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx(m,{fullWidth:!0,children:e.jsxs(v,{value:t[l],onChange:i=>o(i,l),children:[e.jsx(n,{value:"Yes",children:"Yes"}),e.jsx(n,{value:"No",children:"No"})]})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx(m,{fullWidth:!0,children:e.jsxs(v,{value:s[l],onChange:i=>u(i,l),children:[e.jsx(n,{value:"Yes",children:"Yes"}),e.jsx(n,{value:"No",children:"No"})]})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(h,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})})}),e.jsx("td",{children:e.jsxs("div",{className:"button",children:[e.jsx("button",{children:"View"}),e.jsx("button",{children:"Notes"})]})}),e.jsx("td",{children:e.jsx(m,{fullWidth:!0,children:e.jsxs(v,{value:x,onChange:i=>j(i.target.value),children:[e.jsx(n,{value:"",children:"Select A Year"}),e.jsx(n,{value:"Csdp Program Sy 2020 - 2021",children:"Csdp Program Sy 2020 - 2021"}),e.jsx(n,{value:"Csdp Program Sy 2021 - 2022",children:"Csdp Program Sy 2021 - 2022"}),e.jsx(n,{value:"Csdp Program Sy 2022 - 2023",children:"Csdp Program Sy 2022 - 2023"}),e.jsx(n,{value:"Csdp Program Sy 2023 - 2024",children:"Csdp Program Sy 2023 - 2024"}),e.jsx(n,{value:"Csdp Program Sy 2024 - 2025",children:"Csdp Program Sy 2024 - 2025"})]})})}),e.jsx("td",{children:e.jsx("button",{children:"Save"})})]},l)):e.jsx("tr",{children:e.jsx("td",{colSpan:"13",children:"No matching records found"})})})]})})})},p=(r,t)=>{const d=s=>s?s.toString().toLowerCase():"";return r.filter(s=>{var u,a;const c=d(t.search||""),x=!t.search||[s.name,s.dob,s.gender,(u=s.m_h_num)==null?void 0:u.toString(),s.sl_hx.toString(),s.sl_date,s.pro,s.proDate,s.flu,s.fluDate,s.fillings,s.school,s.grade].some(l=>d(l).includes(c)),j=!t.school||s.school===t.school,o=!t.grade||((a=s.grade)==null?void 0:a.toString())===t.grade;return x&&j&&o})},E=()=>{const{filters:r,rowsPerPage:t,currentPage:d,currentPageData:s,totalPages:c,handleFilterChange:x,handleRowsPerPageChange:j,handlePageChange:o,loading:u}=S(b,{search:"",school:"",grade:""},p),a=f(),l=()=>{a(s,"Eliligibility.csv")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"eliligibility auto-sizing",children:[e.jsx(C,{filters:r,onFilterChange:x,data:b,hasSchoolFilter:!0,hasGradeFilter:!0}),e.jsxs("div",{className:"table_controls",children:[e.jsx("button",{className:"Export_BTN shadow",onClick:l,children:"Export"}),e.jsx(N,{rowsPerPage:t,handleRowsPerPageChange:j})]}),e.jsxs("div",{className:"table_area",children:[u&&e.jsx(P,{}),e.jsx("div",{className:"container",children:e.jsx(y,{data:s})})]}),c>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"shadow",onClick:()=>o(d-1),disabled:d===1,children:"Back"}),e.jsxs("span",{children:["Page ",d," of ",c]}),e.jsx("button",{className:"shadow",onClick:()=>o(d+1),disabled:d===c,children:"Next"})]})]})})};export{E as default};
