import{r,u as M,j as e,P as B,J as X,A as k,bG as ee,L as se,M as ae,be as le,aA as o,bv as P,bx as A,aq as n,ba as ne,bb as te,bH as re,bf as w,bI as D,bg as m,bJ as b,bi as W,bK as ie,bL as H,bM as ce,bN as oe,by as de,bO as G,bA as he,bB as ue,bC as xe,bP as je}from"./index-GjOPaFMt.js";/* empty css                 */import{I as me,U as be}from"./ImportIcon-DZ7-NC-W.js";import{u as ge,C as I}from"./useUpdateStatus-DtREj-La.js";const ve="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2017H3C1.89543%2017%201%2016.1046%201%2015V3C1%201.89543%201.89543%201%203%201H11.1716C11.702%201%2012.2107%201.21071%2012.5858%201.58579L16.4142%205.41421C16.7893%205.78929%2017%206.29799%2017%206.82843V15C17%2016.1046%2016.1046%2017%2015%2017H12V12H6V17Z'%20fill='black'%20fill-opacity='0.15'/%3e%3cpath%20d='M12%2017V12H6V17M15%2017H3C1.89543%2017%201%2016.1046%201%2015V3C1%201.89543%201.89543%201%203%201H11.1716C11.702%201%2012.2107%201.21071%2012.5858%201.58579L16.4142%205.41421C16.7893%205.78929%2017%206.29799%2017%206.82843V15C17%2016.1046%2016.1046%2017%2015%2017Z'%20stroke='%231E1E1E'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",pe=({data:c})=>{const[t,d]=r.useState(null),[l,g]=r.useState(!0),{updateStatus:h,setChangeStatusRef:v,updateConsent:p,setChangeConsentRef:u,updateSDF:C,setChangeSDFRef:N}=ge(),{isVisible:x,isExiting:j,popupData:i,openPopup:f,closePopup:_}=M(),y=()=>{i&&console.log("Request to delete patient with ID:",i.id),_()},S=[...c].sort((s,F)=>l?s.id-F.id:F.id-s.id);return e.jsxs(e.Fragment,{children:[x&&e.jsx(B,{type:"Inform",title:"Are You Sure?",message:`You are about to delete ${i==null?void 0:i.name}. This action cannot be undone.`,icon:X,onConfirm:y,onCancel:_,confirmLabel:"Yes, Delete it!",cancelLabel:"Cancel",isExiting:j,customClass:"delete-popup"}),e.jsx(I,{ref:s=>v(s)}),e.jsx(I,{ref:s=>u(s)}),e.jsx(I,{ref:s=>N(s)}),e.jsx("div",{className:"table",children:e.jsxs("table",{children:[e.jsx("thead",{className:"shadow",children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsxs("div",{children:["#",e.jsx("button",{onClick:()=>g(!l),className:`${l?"Ascending":"Descending"}`,children:"âž¤"})]})}),e.jsx("th",{children:"Patient Name"}),e.jsx("th",{children:"Date of Birth"}),e.jsx("th",{children:"Grade"}),e.jsx("th",{children:"School"}),e.jsx("th",{children:"Consented"}),e.jsx("th",{children:"SDF"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.length>0?S.map((s,F)=>e.jsxs("tr",{className:"shadow",onMouseEnter:()=>{console.log("Mouse Entered:",s.id),d(s.id)},onMouseLeave:()=>{console.log("Mouse Left:",s.id),d(null)},children:[e.jsx("td",{children:s.id}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.birthdate}),e.jsx("td",{children:s.grade}),e.jsx("td",{children:s.school}),e.jsx("td",{className:`${s.consented==="Active"||s.consented===!0?"active":"inactive "}`,children:e.jsx("span",{children:e.jsx("button",{onClick:()=>p(s),children:s.consented==="Active"||s.consented===!0?"Yes":"No"})})}),e.jsx("td",{className:`${s.sdf==="Active"||s.sdf===!0?"active":"inactive "}`,children:e.jsx("span",{children:e.jsx("button",{onClick:()=>C(s),children:s.sdf==="Active"||s.sdf===!0?"Yes":"No"})})}),e.jsx("td",{className:`${s.status==="Active"||s.status===!0?"active":"inactive "}`,children:e.jsx("span",{children:e.jsx("button",{onClick:()=>h(s),children:s.status==="Active"||s.status===!0?"Active":"Inactive"})})}),e.jsxs("td",{className:"crud_controlls",children:[e.jsx(k,{type:"routerLink",classLabel:"view_patient",label:"View",icon:ee,backgroundColor:"#8BE5FE",url:"#"}),e.jsx("div",{className:`outer_more ${t===s.id?"hovered":""}`,children:e.jsx(Ce,{openDeletePopup:()=>f(s)})})]})]},F)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No matching records found"})})})]})})]})},Ce=({openDeletePopup:c})=>e.jsx("div",{className:"action_buttons f-center",children:e.jsxs("div",{className:" f-center shadow",children:[e.jsx(k,{type:"routerLink",classLabel:"edit_patient",label:"Edit",icon:se,backgroundColor:"#1E8631",url:"#"}),e.jsx(k,{type:"button",classLabel:"delete_patient",label:"Delete",icon:ae,backgroundColor:"#FF1A1A",method:c})]})}),Ne=({exitUser:c})=>{const[t,d]=r.useState(""),[l,g]=r.useState(""),[h,v]=r.useState(null),[p,u]=r.useState(""),[C,N]=r.useState(""),[x,j]=r.useState(""),[i,f]=r.useState(""),[_,y]=r.useState(null),[S,s]=r.useState(null),[F,T]=r.useState(null),[U,V]=r.useState(null),[L,Y]=r.useState([]),[R,$]=r.useState([]),[O,z]=r.useState(),q=a=>{console.log(a.target.files),z(URL.createObjectURL(a.target.files[0]))},J=a=>{Y(a),console.log("Selected items:",L)},Z=a=>{y(a.target.value==="yes"),console.log("Has Regular Checkup:",a.target.value==="yes")},K=a=>{s(a.target.value==="yes"),console.log("Has Regular Checkup:",a.target.value==="yes")},Q=a=>{$(a),console.log("Selected items:",R)},E=()=>{c&&c()};return le.createPortal(e.jsxs("div",{className:"form_containter new_patient_containter f-center glassmorphism shadow",children:[e.jsx("button",{className:"form_background",onClick:E}),e.jsx("div",{className:"new_patients glassmorphism shadow",children:e.jsxs("form",{action:"",children:[e.jsx("h1",{children:"New Patient"}),e.jsx("br",{}),e.jsxs("div",{className:"patient_image set_image_container",children:[e.jsx("h2",{children:"Add Image"}),e.jsxs("div",{className:"set_image",children:[e.jsx("label",{htmlFor:"patient_image",children:"200 x 200"}),e.jsx("input",{type:"file",onChange:q}),e.jsx("img",{src:O})]})]}),e.jsx("h3",{children:"Patient Information"}),e.jsxs("div",{className:"patient_info container",children:[e.jsxs("div",{className:"fname",children:[e.jsx("label",{htmlFor:"fname",children:"First name"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]}),e.jsxs("div",{className:"lname",children:[e.jsx("label",{htmlFor:"lname",children:"Last name"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]}),e.jsxs("div",{className:"gender",children:[e.jsx("label",{htmlFor:"lname",children:"Gender"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(A,{labelId:"gender-label",value:t,onChange:a=>d(a.target.value),displayEmpty:!0,children:[e.jsx(n,{value:"",disabled:!0,children:"Select Gender"}),e.jsx(n,{value:"Male",children:"Male"}),e.jsx(n,{value:"Female",children:"Female"})]})})]}),e.jsxs("div",{className:"birthdate",children:[e.jsx("label",{htmlFor:"birthdate",children:"Birth Date"}),e.jsx(ne,{dateAdapter:te,fullWidth:!0,children:e.jsx(re,{value:h,onChange:a=>v(a),renderInput:a=>e.jsx(o,{...a}),fullWidth:!0})})]}),e.jsxs("div",{className:"race",children:[e.jsx("label",{htmlFor:"race",children:"Ethnicity"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(A,{labelId:"race-label",value:l,onChange:a=>g(a.target.value),displayEmpty:!0,children:[e.jsx(n,{value:"",disabled:!0,children:"Select Ethnicity"}),e.jsx(n,{value:"White",children:"White"}),e.jsx(n,{value:"African_American",children:"African American"}),e.jsx(n,{value:"Hispanic",children:"Hispanic"}),e.jsx(n,{value:"Asian",children:"Asian"})]})})]}),e.jsxs("div",{className:"insurance",children:[e.jsx("label",{htmlFor:"insurance",children:"Insurance"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(A,{labelId:"insurance-label",value:p,onChange:a=>u(a.target.value),displayEmpty:!0,children:[e.jsx(n,{value:"",disabled:!0,children:"Select Insurance"}),e.jsx(n,{value:"insurance_1",children:"insurance_1"}),e.jsx(n,{value:"insurance_2",children:"insurance_2"}),e.jsx(n,{value:"insurance_3",children:"insurance_3"}),e.jsx(n,{value:"insurance_4",children:"insurance_4"})]})})]}),e.jsxs("div",{className:"language_spoken",children:[e.jsx("label",{htmlFor:"language_spoken",children:"Language Spoken"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]}),e.jsxs("div",{className:"language_spoken_at_hone",children:[e.jsx("label",{htmlFor:"language_spoken_at_hone",children:"Language Spoken At Home"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]})]}),e.jsx("h3",{children:"School Information"}),e.jsxs("div",{className:"school_info container",children:[e.jsxs("div",{className:"school",children:[e.jsx("label",{htmlFor:"gname",children:"School"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(A,{labelId:"race-label",value:x,onChange:a=>j(a.target.value),displayEmpty:!0,children:[e.jsx(n,{value:"",disabled:!0,children:"Select School"}),e.jsx(n,{value:"White",children:"School 1"}),e.jsx(n,{value:"African_American",children:"School 2"}),e.jsx(n,{value:"Hispanic",children:"School 3"}),e.jsx(n,{value:"Asian",children:"School 4"})]})})]}),e.jsxs("div",{className:"grade",children:[e.jsx("label",{htmlFor:"gname",children:"Grade"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(A,{labelId:"race-label",value:i,onChange:a=>f(a.target.value),displayEmpty:!0,children:[e.jsx(n,{value:"",disabled:!0,children:"Select Grade"}),e.jsx(n,{value:"White",children:"Grade 1"}),e.jsx(n,{value:"African_American",children:"Grade 2"}),e.jsx(n,{value:"Hispanic",children:"Grade 3"}),e.jsx(n,{value:"Asian",children:"Grade 4"})]})})]}),e.jsxs("div",{className:"teacher",children:[e.jsx("label",{htmlFor:"gname",children:"Teacher"}),e.jsx(o,{id:"outlined-basic",label:"",variant:"outlined",fullWidth:!0})]}),e.jsxs("div",{className:"room",children:[e.jsx("label",{htmlFor:"gname",children:"Room"}),e.jsx(o,{id:"outlined-basic",label:"",variant:"outlined",fullWidth:!0})]}),e.jsxs("div",{className:"consented",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Consented"}),e.jsx(w,{children:e.jsxs(D,{row:!0,value:U?"yes":"no",onChange:a=>V(a.target.value==="yes"),children:[e.jsx(m,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(m,{value:"no",control:e.jsx(b,{}),label:"No"})]})})]}),e.jsxs("div",{className:"signed",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Signed"}),e.jsx(w,{children:e.jsxs(D,{row:!0,value:F?"yes":"no",onChange:a=>T(a.target.value==="yes"),children:[e.jsx(m,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(m,{value:"no",control:e.jsx(b,{}),label:"No"})]})})]}),e.jsxs("div",{className:"consented_notes",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Notes"}),e.jsx(W,{size:"lg",variant:"outlined",sx:{borderColor:"rgb(158, 158, 158)",borderWidth:"1px",borderRadius:"5px",background:"transparent",width:"100%"}})]}),e.jsxs("div",{className:"signed_notes",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Notes"}),e.jsx(W,{size:"lg",variant:"outlined",sx:{borderColor:"rgb(158, 158, 158)",borderWidth:"1px",borderRadius:"5px",background:"transparent",width:"100%"}})]})]}),e.jsx("h3",{children:"Gaurdian Information"}),e.jsxs("div",{className:"gaurdian_info container",children:[e.jsxs("div",{className:"gname",children:[e.jsx("label",{htmlFor:"gname",children:"Gaurdian Name"}),e.jsx(o,{id:"outlined-basic",label:"Gaurdian Name",variant:"outlined",fullWidth:!0})]}),e.jsxs("div",{className:"grelationship",children:[e.jsx("label",{htmlFor:"grelationship",children:"Relationship"}),e.jsx(o,{id:"outlined-basic",label:"e.g Father/Mother/Auntie",variant:"outlined",fullWidth:!0})]}),e.jsxs("div",{className:"gnumber",children:[e.jsx("label",{htmlFor:"gnumber",children:"Phone Number"}),e.jsx(ie,{value:C,onChange:a=>N(a),fullWidth:!0})]}),e.jsxs("div",{className:"gemail",children:[e.jsx("label",{htmlFor:"gemail",children:"Gaurdian Email"}),e.jsx(o,{id:"outlined-basic",label:"Gaurdian Email",variant:"outlined",type:"email",fullWidth:!0})]})]}),e.jsx("h3",{children:"Medical History"}),e.jsxs("div",{className:"medical_history container",children:[e.jsxs("div",{className:"allergies full",children:[e.jsx("label",{htmlFor:"allergies",children:"Allergies"}),e.jsx(H,{closeMenuOnSelect:!1,options:ce,value:L,onChange:J})]}),e.jsxs("div",{className:"doctor text_input",children:[e.jsxs("div",{className:"doctor_name dtext",children:[e.jsx("label",{htmlFor:"doctor_name",children:"Doctor Name"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]}),e.jsxs("div",{className:"has_regular_checkup dinput",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Has Regular Check Up Doctor"}),e.jsx(w,{children:e.jsxs(D,{row:!0,value:_?"yes":"no",onChange:Z,children:[e.jsx(m,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(m,{value:"no",control:e.jsx(b,{}),label:"No"})]})})]})]}),e.jsxs("div",{className:"dentist text_input",children:[e.jsxs("div",{className:"dentist_name dtext",children:[e.jsx("label",{htmlFor:"dentist_name",children:"Dentist Name"}),e.jsx(o,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})]}),e.jsxs("div",{className:"has_regular_checkup dinput",children:[e.jsx("label",{htmlFor:"has_regular_checkup",children:"Has Regular Check Up Dentist"}),e.jsx(w,{children:e.jsxs(D,{row:!0,value:S?"yes":"no",onChange:K,children:[e.jsx(m,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(m,{value:"no",control:e.jsx(b,{}),label:"No"})]})})]})]}),e.jsx("div",{className:"medication text_input"}),e.jsxs("div",{className:"illness full",children:[e.jsx("label",{htmlFor:"illness full",children:"Illness"}),e.jsx(H,{closeMenuOnSelect:!1,options:oe,onChange:Q,value:R})]})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:E,children:"Cancel"})]})]})})]}),document.body)},fe=(c,t)=>{const d=l=>l?l.toString().toLowerCase():"";return c.filter(l=>{var x,j,i;const g=d(t.search||""),h=!t.search||[l.name,(x=l.id)==null?void 0:x.toString(),l.gender,(j=l.age)==null?void 0:j.toString(),l.teacher,l.school,l.year,l.status,l.birthdate,l.insurance].some(f=>d(f).includes(g)),v=!t.school||l.school===t.school,p=!t.grade||((i=l.grade)==null?void 0:i.toString())===t.grade,u=!t.year||l.year===t.year,C=!t.status||l.status===t.status,N=!t.teacher||l.teacher===t.teacher;return h&&v&&p&&u&&C&&N})},Pe=()=>{const c={search:"",school:"",grade:"",year:"",status:"Active",teacher:""},{filters:t,rowsPerPage:d,currentPage:l,currentPageData:g,totalPages:h,handleFilterChange:v,handleRowsPerPageChange:p,handlePageChange:u,loading:C}=de(G,c,fe),{isVisible:N,isExiting:x,openPopup:j,closePopup:i}=M(),[f,_]=r.useState(!1),y=()=>_(!0),S=()=>_(!1);return e.jsxs(e.Fragment,{children:[N&&e.jsx(B,{type:"Import",title:"Import Patient List",message:"This action can be only done once",icon:me,onConfirm:i,onCancel:i,confirmLabel:"Confirm",cancelLabel:"Cancel",isExiting:x,customClass:"import-popup"}),f&&e.jsx(Ne,{exitUser:S}),e.jsxs("div",{className:"patients",children:[e.jsx(he,{filters:t,onFilterChange:v,data:G,hasSchoolFilter:!0,hasGradeFilter:!0,hasYearFilter:!0,hasStatusfilter:!0,hasTeacherFilter:!0}),e.jsxs("div",{className:"table_controls",children:[e.jsx(_e,{openImportPopUp:j,addNewPatient:y}),e.jsx(ue,{rowsPerPage:d,handleRowsPerPageChange:p})]}),e.jsxs("div",{className:"table_area",children:[C&&e.jsx(xe,{}),e.jsx(pe,{data:g})]}),h>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"shadow",onClick:()=>u(l-1),disabled:l===1,children:"Back"}),e.jsxs("span",{children:["Page ",l," of ",h]}),e.jsx("button",{className:"shadow",onClick:()=>u(l+1),disabled:l===h,children:"Next"})]})]})]})},_e=({openImportPopUp:c,addNewPatient:t})=>e.jsxs("div",{className:"user_buttons",children:[e.jsx(k,{type:"link",classLabel:"download_template",label:"Download Template",icon:ve,backgroundColor:"#FFB20C",url:"#"}),e.jsx(k,{type:"button",classLabel:"import_btn",label:"Import",icon:be,backgroundColor:"#8BE5FE",method:c}),e.jsx(k,{type:"button",classLabel:"new_patient",label:"New Patient",icon:je,backgroundColor:"#1E8631",method:t})]});export{Pe as default};
