import{r as c,be as h,j as e}from"./index-CBz-LnNw.js";const m="/dental_software/assets/X-CXUpSf7_.png",S="/dental_software/assets/Check-CEA9JRap.png",C=c.forwardRef((u,i)=>{const[r,l]=c.useState([]),[x,p]=c.useState([]),[g,f]=c.useState([]);return c.useImperativeHandle(i,()=>({addStatusMessage(t,s){const n=Date.now(),d={id:n,name:t,status:s,animating:"enter"};l(a=>[...a,d]),setTimeout(()=>{l(a=>a.map(o=>o.id===n?{...o,animating:"exit"}:o)),setTimeout(()=>{l(a=>a.filter(o=>o.id!==n))},500)},4990)},addConsentMessage(t,s){const n=Date.now(),d={id:n,name:t,consentStatus:s,animating:"enter"};p(a=>[...a,d]),setTimeout(()=>{p(a=>a.map(o=>o.id===n?{...o,animating:"exit"}:o)),setTimeout(()=>{p(a=>a.filter(o=>o.id!==n))},500)},4990)},addSDFMessage(t,s){const n=Date.now(),d={id:n,name:t,sdfStatus:s,animating:"enter"};f(a=>[...a,d]),setTimeout(()=>{f(a=>a.map(o=>o.id===n?{...o,animating:"exit"}:o)),setTimeout(()=>{f(a=>a.filter(o=>o.id!==n))},500)},4990)}})),h.createPortal(e.jsxs("div",{className:"status-container",children:[r.map((t,s)=>e.jsxs("div",{className:`status_status status-popup shadow f-center ${t.status==="Active"?"active":"inactive"} animating-${t.animating}`,style:{transform:`translateY(-${s+70}px)`,transition:"all 4000ms linear"},children:[e.jsx("div",{className:"progress-bar"}),e.jsxs("div",{className:"f-center message-container",children:[(t.status==="Active"||t.status===!0)&&e.jsx("img",{src:S,alt:"check mark"}),(t.status==="Inactive"||t.status===!1)&&e.jsx("img",{src:m,alt:"x mark"}),e.jsxs("p",{children:["You changed ",e.jsx("strong",{children:t.name})," to"," ",e.jsx("strong",{children:t.status==="Active"?"Active":"Inactive"}),"."]})]})]},t.id)),x.map((t,s)=>e.jsxs("div",{className:`status_consent status-popup shadow f-center ${t.consentStatus==="Consented"?"active":"inactive"} animating-${t.animating}`,style:{transform:`translateY(-${s+70}px)`,transition:"all 4000ms linear"},children:[e.jsx("div",{className:"progress-bar"}),e.jsxs("div",{className:"f-center message-container",children:[t.consentStatus==="Consented"&&e.jsx("img",{src:S,alt:"check mark"}),t.consentStatus==="Not Consented"&&e.jsx("img",{src:m,alt:"x mark"}),e.jsxs("p",{children:["You updated consent for ",e.jsx("strong",{children:t.name})," to"," ",e.jsx("strong",{children:t.consentStatus}),"."]})]})]},t.id)),g.map((t,s)=>e.jsxs("div",{className:`status_sdf status-popup shadow f-center ${t.sdfStatus==="SDF"?"active":"inactive"} animating-${t.animating}`,style:{transform:`translateY(-${s+70}px)`,transition:"all 4000ms linear"},children:[e.jsx("div",{className:"progress-bar"}),e.jsxs("div",{className:"f-center message-container",children:[t.sdfStatus==="SDF"&&e.jsx("img",{src:S,alt:"check mark"}),t.sdfStatus==="Not SDF"&&e.jsx("img",{src:m,alt:"x mark"}),e.jsxs("p",{children:["You updated SDF for ",e.jsx("strong",{children:t.name})," to"," ",e.jsx("strong",{children:t.sdfStatus}),"."]})]})]},t.id))]}),document.body)}),v=()=>{const u=c.useRef(),i=c.useRef(),r=c.useRef();return{updateStatus:s=>{const n=s.status==="Active"?"Inactive":"Active";console.log(`Updating status of ${s.name} to ${n}`),u.current&&u.current.addStatusMessage(s.name||s.code,n)},setChangeStatusRef:s=>{u.current=s},updateConsent:s=>{const n=!s.consented;console.log(`Updating consent status of ${s.name} (${s.id}) to ${n?"Consented":"Not Consented"}`),i.current&&i.current.addConsentMessage(s.name,n?"Consented":"Not Consented")},setChangeConsentRef:s=>{i.current=s},updateSDF:s=>{const n=!s.sdf;console.log(`Updating SDF status of ${s.name} to ${n}`),r.current&&r.current.addSDFMessage(s.name||s.code,n?"SDF":"Not SDF")},setChangeSDFRef:s=>{r.current=s}}};export{C,v as u};
