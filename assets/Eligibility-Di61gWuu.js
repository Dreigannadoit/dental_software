import{r as p,b5 as b,j as s,aA as y,bv as f,bx as v,aq as E,by as w,bE as S,bA as F,bB as D,bC as L}from"./index-BIT8aymp.js";import{u as T}from"./useExportCsv-Bwyux1m5.js";const Y=({data:i})=>{const t=p.useCallback(n=>i.map(a=>a[n]?"Yes":"No"),[i]),[l,e]=b.useState(()=>t("pro")),[o,m]=b.useState(()=>t("flu")),[x,d]=b.useState(""),c=(n,a)=>u=>{(n==="pro"?e:m)(j=>j.map((C,P)=>P===a?u.target.value:C))},h=()=>s.jsx(y,{fullWidth:!0,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{height:32,fontSize:"0.875rem"},"& .MuiOutlinedInput-input":{padding:"6px 8px"}}}),r=(n,a,u)=>s.jsx(f,{fullWidth:!0,size:"small",children:s.jsx(v,{value:n,onChange:a,sx:{fontSize:"0.875rem","& .MuiOutlinedInput-input":{padding:"6px 8px"}},children:u.map(([g,j])=>s.jsx(E,{value:g,sx:{fontSize:"0.875rem"},children:j},g))})}),N=p.useMemo(()=>[["","Select A Year"],["Csdp Program Sy 2020 - 2021","2020-2021"],["Csdp Program Sy 2021 - 2022","2021-2022"],["Csdp Program Sy 2022 - 2023","2022-2023"],["Csdp Program Sy 2023 - 2024","2023-2024"],["Csdp Program Sy 2024 - 2025","2024-2025"]],[]);return s.jsx("div",{className:"table",children:s.jsxs("table",{children:[s.jsx("thead",{className:"shadow fixed-header",children:s.jsx("tr",{children:["Name","DOB","MH#","SL HX","SL D","PRO","DATE","FLU","DATE","FILLINGS","Notes","Year",""].map((n,a)=>s.jsx("th",{children:n},a))})}),s.jsx("tbody",{children:i.map((n,a)=>s.jsxs("tr",{className:"shadow",children:[s.jsx("td",{children:n.name}),[1,2,3,4,6,8,9].map((u,g)=>s.jsx("td",{children:h()},g)),s.jsx("td",{children:r(l[a],c("pro",a),[["Yes","Yes"],["No","No"]])}),s.jsx("td",{children:r(o[a],c("flu",a),[["Yes","Yes"],["No","No"]])}),s.jsx("td",{children:s.jsxs("div",{className:"button",children:[s.jsx("button",{className:"compact-button",children:"View"}),s.jsx("button",{className:"compact-button",children:"Notes"})]})}),s.jsx("td",{children:r(x,u=>d(u.target.value),N)}),s.jsx("td",{children:s.jsx("button",{className:"compact-button",children:"Save"})})]},a))})]})})},_=(i,t)=>{const l=e=>e?e.toString().toLowerCase():"";return i.filter(e=>{var c,h;const o=l(t.search||""),m=!t.search||[e.name,e.dob,e.gender,(c=e.m_h_num)==null?void 0:c.toString(),e.sl_hx.toString(),e.sl_date,e.pro,e.proDate,e.flu,e.fluDate,e.fillings,e.school,e.grade].some(r=>l(r).includes(o)),x=!t.school||e.school===t.school,d=!t.grade||((h=e.grade)==null?void 0:h.toString())===t.grade;return m&&x&&d})},z=()=>{const{filters:i,rowsPerPage:t,currentPage:l,currentPageData:e,totalPages:o,handleFilterChange:m,handleRowsPerPageChange:x,handlePageChange:d,loading:c}=w(S,{search:"",school:"",grade:""},_),h=T(),r=()=>{h(e,"Eliligibility.csv")};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"eliligibility auto-sizing",children:[s.jsx(F,{filters:i,onFilterChange:m,data:S,hasSchoolFilter:!0,hasGradeFilter:!0}),s.jsxs("div",{className:"table_controls",children:[s.jsx("button",{className:"Export_BTN shadow",onClick:r,children:"Export"}),s.jsx(D,{rowsPerPage:t,handleRowsPerPageChange:x})]}),s.jsxs("div",{className:"table_area",children:[c&&s.jsx(L,{}),s.jsx("div",{className:"container",children:s.jsx(Y,{data:e})})]}),o>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("button",{className:"shadow",onClick:()=>d(l-1),disabled:l===1,children:"Back"}),s.jsxs("span",{children:["Page ",l," of ",o]}),s.jsx("button",{className:"shadow",onClick:()=>d(l+1),disabled:l===o,children:"Next"})]})]})})};export{z as default};
