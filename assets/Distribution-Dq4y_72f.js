import{j as e,aA as j,aM as v,a3 as w,b1 as D,b6 as h,b3 as T,b4 as K,b5 as S}from"./index-DJwQgHTt.js";import{u as y}from"./useExportCsv-C1KaO9Sm.js";const B=({data:c})=>{const r=()=>e.jsx("div",{children:e.jsx(w,{fullWidth:!0,id:"outlined-basic",variant:"outlined"})}),t=(n,a,o)=>{const d=n[a];return e.jsxs(j.Fragment,{children:[e.jsx("tr",{children:e.jsxs("td",{colSpan:"9",className:"section-header",children:[n.year," - ",o]})}),d.length>0?d.map((s,i)=>e.jsxs("tr",{className:"editable_content",children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:r()}),e.jsx("td",{children:e.jsx(v,{})}),e.jsx("td",{children:r()}),e.jsx("td",{children:r()}),e.jsx("td",{children:r()}),e.jsx("td",{children:r()}),e.jsx("td",{children:r()}),e.jsx("td",{children:e.jsx("button",{className:"main_btn_style",children:"save"})})]},i)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"9",children:["No records for ",o]})})]},a)};return e.jsx("div",{className:"table",children:e.jsxs("table",{children:[e.jsx("thead",{className:"shadow fixed-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"School Name"}),e.jsx("th",{children:"Enrolled"}),e.jsx("th",{children:"Distr."}),e.jsx("th",{children:"Number of Classrooms"}),e.jsx("th",{children:"Number of Consent Packer"}),e.jsx("th",{children:"Total Number of Forms Distr."}),e.jsx("th",{children:"Consents"}),e.jsx("th",{children:"Nurse / Contact Person"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:c.map((n,a)=>e.jsxs(j.Fragment,{children:[t(n,"preK","Pre K"),t(n,"k5","K-5"),t(n,"m6_8","Middle 6-8"),t(n,"high9_12","High 9-12")]},a))})]})})},R=(c,r)=>{const t=s=>s?s.toString().toLowerCase():"",n=t(r.search||""),a=r.year;return c.filter(s=>!a||s.year===a).map(s=>({...s,preK:s.preK.filter(i=>t(i.name).includes(n)),k5:s.k5.filter(i=>t(i.name).includes(n)),m6_8:s.m6_8.filter(i=>t(i.name).includes(n)),high9_12:s.high9_12.filter(i=>t(i.name).includes(n))})).filter(s=>s.preK.length||s.k5.length||s.m6_8.length||s.high9_12.length)},z=()=>{const{filters:c,rowsPerPage:r,currentPage:t,currentPageData:n,totalPages:a,handleFilterChange:o,handleRowsPerPageChange:d,handlePageChange:s,loading:i}=D(h,{search:"",year:"Csdp Program Sy 2020 - 2021"},R),u=y(),m=()=>{const b=(g=>{const x=[];return g.forEach(f=>{const{year:N,preK:p,k5:_,m6_8:C,high9_12:P}=f;[p,_,C,P].forEach((k,F)=>{const E=["preK","k5","m6_8","high9_12"][F];k.forEach(l=>{x.push({year:N,group:E,name:l.name,enrolled:l.enrolled,distribution:l.distribution,classroomNum:l.classroomNum,consentPackerNum:l.consentPackerNum,totalFormsDisNum:l.totalFormsDisNum,consents:l.consents,nurse_contact_person:l.nurse_contact_person})})})}),x})(h);u(b,"Eligibility.csv")};return e.jsxs("div",{className:"distribution auto-sizing",children:[e.jsx(T,{filters:c,onFilterChange:o,data:h,hasYearFilter:!0}),e.jsxs("div",{className:"table_controls",children:[e.jsx("button",{className:"Export_BTN shadow",onClick:m,children:"Export"}),e.jsx(K,{rowsPerPage:r,handleRowsPerPageChange:d})]}),e.jsx("div",{className:"table_area",children:i?e.jsx(S,{}):e.jsx("div",{className:"container",children:e.jsx(B,{data:n})})}),a>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"shadow",onClick:()=>s(t-1),disabled:t===1,children:"Back"}),e.jsxs("span",{children:["Page ",t," of ",a]}),e.jsx("button",{className:"shadow",onClick:()=>s(t+1),disabled:t===a,children:"Next"})]})]})};export{z as default};
